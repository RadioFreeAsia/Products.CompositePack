<tal:layouts define="context nocall:options/composite;
                     layouts
                     python:context.composite_tool.getRegisteredLayoutsForType(context.parent.portal_type);
                     currentLayout python:context.composite_tool.getLayoutById(context.getLayout())">
  <li tal:condition="layouts">

    <div class="menuPosition">
      <ul class="actionMenu"
          id="layoutMenu"
          onmouseover="menuMouseover(event)">
        <tal:block repeat="layout layouts">
          <li tal:condition="python:layout != currentLayout">
            <a href="#"
               onMouseUp="if (activeButton != null) resetButton(activeButton);"
               i18n:translate=""
               tal:content="layout/title"
               tal:attributes="href
               string:${context/absolute_url}/changeLayout?layout_id=${layout/getId}">File Menu Item 1</a>
          </li>
        </tal:block>
      </ul>

      <a href="#"
         onclick="return buttonClick(event, 'layoutMenu');"
         onmouseover="buttonMouseover(event, 'layoutMenu');">

        <span i18n:domain="compopack" 
              i18n:translate="label_layout">Layout:</span>

        <span tal:content="currentLayout/title"
              i18n:translate="">
          Current layout
        </span>
      </a>
    </div>

  </li>
</tal:layouts>

